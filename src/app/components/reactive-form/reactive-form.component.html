<div class="container mt-3">
    <h1 class="text-center">Reactive Form</h1>
</div>
<div class="container my-3">
    <div class="row">
        <div class="col">
            <form [formGroup]="reactiveForm">
                <div formGroupName="heroForm">

                    <div class="form-group my-3">
                        <label for="name">Nome</label>
                        <input type="text" id="name" class="form-control" formControlName="name">
                        <span *ngIf="getForm('heroForm.name')?.invalid && getForm('heroForm.name')?.touched">
                            <ng-container *ngIf="getError('heroForm.name', 'required')">
                                <p class="text-danger fw-bold">Campo Obbligatorio</p>
                            </ng-container>
                        </span>
                    </div>

                    <div class="form-group my-3">
                        <label for="alterEgo">Alter Ego</label>
                        <input type="text" id="alterEgo" class="form-control" formControlName="alterEgo">
                        <span *ngIf="getForm('heroForm.alterEgo')?.invalid && getForm('heroForm.alterEgo')?.touched">
                            <ng-container *ngIf="getError('heroForm.alterEgo', 'required')">
                                <p class="text-danger fw-bold">Campo Obbligatorio</p>
                            </ng-container>
                        </span>
                    </div>

                    <div class="form-group my-3">
                        <label for="enemy">Nemico</label>
                        <input type="text" id="enemy" class="form-control" formControlName="enemy">
                    </div>

                    <div class="form-group my-3">
                        <label for="planet">Pianeti</label>
                        <input type="text" id="planet" class="form-control" formControlName="planet">

                        <span *ngIf="getForm('heroForm.planet')?.invalid && getForm('heroForm.planet')?.touched">
                            <ng-container *ngIf="getError('heroForm.planet', 'required')">
                                <p class="text-danger fw-bold">Il campo deve contenere minimo 3 caratteri.</p>
                            </ng-container>
                        </span>
                    </div>
                </div>

                <div class="my-3" formArrayName="power">
                    <p>Superpoteri</p>
                    <button type="button" class="btn btn-primary" (click)="addPower()">Aggiungi poteri</button>
                    <div class="form-group my-3" *ngFor="let power of getPower(); let i = index">
                        <input type="text" class="form-control" [formControlName]="i">
                    </div>
                </div>

                <div class="my-3" formArrayName="weakness">
                    <p>Debolezze</p>
                    <button type="button" class="btn btn-primary" (click)="addWeakness()">Aggiungi debolezze</button>
                    <div class="form-group my-3" *ngFor="let Weakness of getWeakness(); let i = index">
                        <input type="text" class="form-control" [formControlName]="i">
                    </div>
                </div>
                <button type="submit" (click)="submit()" class="btn btn-primary"
                    [disabled]="reactiveForm.invalid">Invia</button>
            </form>
        </div>
    </div>
</div>
